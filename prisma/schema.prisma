datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
  // for unix
  // binaryTargets = ["native", "debian-openssl-3.0.x", "linux-arm64-openssl-1.1.x", "rhel-openssl-1.0.x"]
  // for windows
  binaryTargets = ["native", "debian-openssl-1.1.x"]
}

generator prismabox {
  provider = "prismabox"
  output = "../models"
  typeboxImportVariableName = "t"
  typeboxImportDependencyName = "elysia"
  additionalProperties = true
  inputModel = true
}

model User {
    id         String     @id
    sessions   Session[]
    passwords  Password[]
}

model Password {
    id             Int    @id @default(autoincrement())
    hashedPassword String
    userId         String
    user           User   @relation(references: [id], fields: [userId], onDelete: Cascade)
}

model Session {
    id        String   @id
    userId    String
    expiresAt DateTime
    user      User     @relation(references: [id], fields: [userId], onDelete: Cascade)
}